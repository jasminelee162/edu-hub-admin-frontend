{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { getMenuByUser } from '@/api/api';\nconst state = {\n  activeMenuArrary: [],\n  activeMenu: \"/index\",\n  flag: false,\n  menus: [],\n  routes: [],\n  displayMenus: [],\n  btnMenus: []\n};\nconst getters = {\n  getMenu: state => state.menus,\n  getFlag: state => state.flag,\n  getRoutes: state => state.routes,\n  getDisplayMenus: state => state.displayMenus,\n  getBtnMenus: state => state.btnMenus\n};\nconst mutations = {\n  setActiveMenu(state, menu) {\n    state.activeMenu = menu;\n  },\n  addActiveMenu(state, menu) {\n    state.activeMenuArrary.push(menu);\n  },\n  setActiveMenuArrary(state, menu) {\n    state.activeMenuArrary = menu;\n  },\n  reduceActiveMenu(state, i) {\n    state.activeMenuArrary.splice(i, 1);\n  },\n  setMenus(state, menus) {\n    state.menus = menus;\n  },\n  setFlag(state, flag) {\n    state.flag = flag;\n  },\n  setRoutes(state, routes) {\n    state.routes = routes;\n  },\n  setDisplayMenus(state, menus) {\n    state.displayMenus = menus;\n  },\n  setBtnMenus(state, btn) {\n    state.btnMenus = btn;\n  }\n};\nconst actions = {\n  generateRoutes({\n    commit\n  }) {\n    return new Promise((resolve, reject) => {\n      console.group('[菜单初始化] 开始加载菜单数据');\n      getMenuByUser().then(res => {\n        console.log('🔹 原始API响应数据:', JSON.parse(JSON.stringify(res)));\n        if (res.code !== 1000) {\n          console.error('❌ 获取菜单失败:', res.message);\n          console.groupEnd();\n          return reject(new Error(res.message));\n        }\n\n        // 打印完整菜单树\n        console.log('🌲 完整菜单数据:', JSON.parse(JSON.stringify(res.data)));\n        commit(\"setMenus\", res.data);\n        commit(\"setFlag\", true);\n\n        // 路由生成\n        const routes = filterRoutes(res.data);\n        console.log('🛣️ 生成的路由配置:', routes);\n        commit(\"setRoutes\", routes);\n\n        // 显示菜单处理\n        const displayMenus = filterMenus(res.data);\n        console.log('📋 最终显示的菜单:', displayMenus);\n        commit(\"setDisplayMenus\", displayMenus);\n\n        // 设置默认菜单\n        setDefaultActiveMenu(commit, displayMenus);\n\n        // 按钮权限\n        const btnMenus = filterBtnMenus(res.data);\n        console.log('🛑 按钮权限列表:', btnMenus);\n        commit(\"setBtnMenus\", btnMenus);\n        console.groupEnd();\n        resolve(routes);\n      }).catch(err => {\n        console.error('💥 菜单加载异常:', err);\n        console.groupEnd();\n        reject(err);\n      });\n    });\n  }\n};\n\n/* 核心工具函数 */\nfunction filterBtnMenus(menus) {\n  return menus.filter(item => item.menuType === 2).map(item => ({\n    ...item\n  })); // 浅拷贝\n}\nfunction filterMenus(menus) {\n  console.groupCollapsed('🔍 正在过滤菜单...');\n  const result = [];\n  menus.forEach(item => {\n    const isValid = item.menuType !== 2 &&\n    // 非按钮\n    item.visible === 0 && (\n    // 可见\n    item.status === 0 || item.status === null) &&\n    // 启用或未设置\n    item.parentId === \"0\" // 顶级菜单\n    ;\n    console.log(`检查菜单: ${item.menuName}`, {\n      id: item.id,\n      类型: ['目录', '菜单', '按钮'][item.menuType] || '未知',\n      可见: item.visible === 0 ? '是' : '否',\n      状态: item.status === 0 ? '启用' : item.status === 1 ? '停用' : '未设置',\n      父ID: item.parentId,\n      结果: isValid ? '✅ 通过' : '❌ 过滤'\n    });\n    if (isValid) {\n      const menuItem = {\n        ...item,\n        children: []\n      };\n      if (item.menuType === 0) {\n        menuItem.children = filterChildMenus(item, menus);\n      }\n      result.push(menuItem);\n    }\n  });\n  console.log('过滤结果数量:', result.length);\n  console.groupEnd();\n  return result;\n}\n\n// 修正后的 filterChildMenus 函数（唯一实现）\nfunction filterChildMenus(parent, allMenus) {\n  return allMenus.filter(item => item.parentId === parent.id && item.menuType !== 2 && item.visible === 0).map(item => {\n    const child = {\n      ...item\n    };\n    if (child.menuType === 0) {\n      child.children = filterChildMenus(child, allMenus);\n    }\n    return child;\n  });\n}\nfunction filterRoutes(menus) {\n  if (!menus || menus.length <= 0) {\n    console.warn('⚠️ 空菜单数据，返回404路由');\n    return [{\n      path: '*',\n      redirect: '/404'\n    }];\n  }\n  const routes = [{\n    path: '/',\n    component: () => import('@/views/layout/index'),\n    redirect: '/index',\n    children: []\n  }];\n  menus.forEach(item => {\n    if (item.menuType === 1) {\n      // 只处理菜单类型\n      const route = {\n        path: item.routeUrl,\n        name: item.menuName,\n        component: loadView(item.componentUrl),\n        meta: {\n          title: item.menuName,\n          icon: item.icon\n        }\n      };\n      item.target === 1 ? routes[0].children.push(route) : routes.push(route);\n    }\n  });\n  routes.push({\n    path: '*',\n    redirect: '/404'\n  });\n  return routes;\n}\nfunction loadView(viewPath) {\n  if (!viewPath) {\n    console.error('🚫 空组件路径，返回404页面');\n    return () => import('@/views/error/404');\n  }\n\n  // 统一路径格式\n  const normalizedPath = viewPath.startsWith('/') ? viewPath : `/${viewPath}`;\n  const fullPath = `@/views${normalizedPath}`;\n  if (process.env.NODE_ENV === 'development') {\n    return resolve => {\n      require([fullPath], resolve, err => {\n        console.error(`加载组件失败: ${fullPath}`, err);\n        resolve(require('@/views/error/404').default);\n      });\n    };\n  } else {\n    return () => import(/* webpackChunkName: \"view-[request]\" */fullPath).catch(err => {\n      console.error(`加载组件失败: ${fullPath}`, err);\n      return import('@/views/error/404');\n    });\n  }\n}\nfunction setDefaultActiveMenu(commit, menus) {\n  const findFirstValid = menuList => {\n    for (const item of menuList) {\n      if (item.menuType === 1) return item;\n      if (item.children?.length) {\n        const found = findFirstValid(item.children);\n        if (found) return found;\n      }\n    }\n    return null;\n  };\n  const defaultMenu = findFirstValid(menus) || {\n    routeUrl: '/index',\n    menuName: '首页'\n  };\n  console.log('⭐ 设置默认菜单:', defaultMenu);\n  commit(\"setActiveMenu\", defaultMenu.routeUrl);\n  commit(\"addActiveMenu\", {\n    name: defaultMenu.menuName,\n    url: defaultMenu.routeUrl\n  });\n}\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};","map":{"version":3,"names":["getMenuByUser","state","activeMenuArrary","activeMenu","flag","menus","routes","displayMenus","btnMenus","getters","getMenu","getFlag","getRoutes","getDisplayMenus","getBtnMenus","mutations","setActiveMenu","menu","addActiveMenu","push","setActiveMenuArrary","reduceActiveMenu","i","splice","setMenus","setFlag","setRoutes","setDisplayMenus","setBtnMenus","btn","actions","generateRoutes","commit","Promise","resolve","reject","console","group","then","res","log","JSON","parse","stringify","code","error","message","groupEnd","Error","data","filterRoutes","filterMenus","setDefaultActiveMenu","filterBtnMenus","catch","err","filter","item","menuType","map","groupCollapsed","result","forEach","isValid","visible","status","parentId","menuName","id","类型","可见","状态","父ID","结果","menuItem","children","filterChildMenus","length","parent","allMenus","child","warn","path","redirect","component","route","routeUrl","name","loadView","componentUrl","meta","title","icon","target","viewPath","normalizedPath","startsWith","fullPath","process","env","NODE_ENV","require","default","findFirstValid","menuList","found","defaultMenu","url","namespaced"],"sources":["C:/Users/32049/Desktop/edu-hub-admin-frontend/src/store/modules/menu.js"],"sourcesContent":["import { getMenuByUser } from '@/api/api'\r\n\r\nconst state = {\r\n  activeMenuArrary: [],\r\n  activeMenu: \"/index\",\r\n  flag: false,\r\n  menus: [],\r\n  routes: [],\r\n  displayMenus: [],\r\n  btnMenus: []\r\n}\r\n\r\nconst getters = {\r\n  getMenu: state => state.menus,\r\n  getFlag: state => state.flag,\r\n  getRoutes: state => state.routes,\r\n  getDisplayMenus: state => state.displayMenus,\r\n  getBtnMenus: state => state.btnMenus\r\n}\r\n\r\nconst mutations = {\r\n  setActiveMenu(state, menu) {\r\n    state.activeMenu = menu\r\n  },\r\n  addActiveMenu(state, menu) {\r\n    state.activeMenuArrary.push(menu)\r\n  },\r\n  setActiveMenuArrary(state, menu) {\r\n    state.activeMenuArrary = menu\r\n  },\r\n  reduceActiveMenu(state, i) {\r\n    state.activeMenuArrary.splice(i, 1)\r\n  },\r\n  setMenus(state, menus) {\r\n    state.menus = menus\r\n  },\r\n  setFlag(state, flag) {\r\n    state.flag = flag\r\n  },\r\n  setRoutes(state, routes) {\r\n    state.routes = routes\r\n  },\r\n  setDisplayMenus(state, menus) {\r\n    state.displayMenus = menus\r\n  },\r\n  setBtnMenus(state, btn) {\r\n    state.btnMenus = btn\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  generateRoutes({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      console.group('[菜单初始化] 开始加载菜单数据')\r\n      \r\n      getMenuByUser().then(res => {\r\n        console.log('🔹 原始API响应数据:', JSON.parse(JSON.stringify(res)))\r\n\r\n        if (res.code !== 1000) {\r\n          console.error('❌ 获取菜单失败:', res.message)\r\n          console.groupEnd()\r\n          return reject(new Error(res.message))\r\n        }\r\n\r\n        // 打印完整菜单树\r\n        console.log('🌲 完整菜单数据:', JSON.parse(JSON.stringify(res.data)))\r\n        commit(\"setMenus\", res.data)\r\n        commit(\"setFlag\", true)\r\n\r\n        // 路由生成\r\n        const routes = filterRoutes(res.data)\r\n        console.log('🛣️ 生成的路由配置:', routes)\r\n        commit(\"setRoutes\", routes)\r\n\r\n        // 显示菜单处理\r\n        const displayMenus = filterMenus(res.data)\r\n        console.log('📋 最终显示的菜单:', displayMenus)\r\n        commit(\"setDisplayMenus\", displayMenus)\r\n\r\n        // 设置默认菜单\r\n        setDefaultActiveMenu(commit, displayMenus)\r\n\r\n        // 按钮权限\r\n        const btnMenus = filterBtnMenus(res.data)\r\n        console.log('🛑 按钮权限列表:', btnMenus)\r\n        commit(\"setBtnMenus\", btnMenus)\r\n\r\n        console.groupEnd()\r\n        resolve(routes)\r\n      }).catch(err => {\r\n        console.error('💥 菜单加载异常:', err)\r\n        console.groupEnd()\r\n        reject(err)\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n/* 核心工具函数 */\r\nfunction filterBtnMenus(menus) {\r\n  return menus\r\n    .filter(item => item.menuType === 2)\r\n    .map(item => ({ ...item })) // 浅拷贝\r\n}\r\n\r\nfunction filterMenus(menus) {\r\n  console.groupCollapsed('🔍 正在过滤菜单...')\r\n  const result = []\r\n  \r\n  menus.forEach(item => {\r\n    const isValid = (\r\n      item.menuType !== 2 &&          // 非按钮\r\n      item.visible === 0 &&           // 可见\r\n      (item.status === 0 || item.status === null) && // 启用或未设置\r\n      item.parentId === \"0\"           // 顶级菜单\r\n    )\r\n\r\n    console.log(`检查菜单: ${item.menuName}`, {\r\n      id: item.id,\r\n      类型: ['目录','菜单','按钮'][item.menuType] || '未知',\r\n      可见: item.visible === 0 ? '是' : '否',\r\n      状态: item.status === 0 ? '启用' : item.status === 1 ? '停用' : '未设置',\r\n      父ID: item.parentId,\r\n      结果: isValid ? '✅ 通过' : '❌ 过滤'\r\n    })\r\n\r\n    if (isValid) {\r\n      const menuItem = { ...item, children: [] }\r\n      if (item.menuType === 0) {\r\n        menuItem.children = filterChildMenus(item, menus)\r\n      }\r\n      result.push(menuItem)\r\n    }\r\n  })\r\n\r\n  console.log('过滤结果数量:', result.length)\r\n  console.groupEnd()\r\n  return result\r\n}\r\n\r\n// 修正后的 filterChildMenus 函数（唯一实现）\r\nfunction filterChildMenus(parent, allMenus) {\r\n  return allMenus\r\n    .filter(item => \r\n      item.parentId === parent.id && \r\n      item.menuType !== 2 && \r\n      item.visible === 0\r\n    )\r\n    .map(item => {\r\n      const child = { ...item }\r\n      if (child.menuType === 0) {\r\n        child.children = filterChildMenus(child, allMenus)\r\n      }\r\n      return child\r\n    })\r\n}\r\n\r\nfunction filterRoutes(menus) {\r\n  if (!menus || menus.length <= 0) {\r\n    console.warn('⚠️ 空菜单数据，返回404路由')\r\n    return [{ path: '*', redirect: '/404' }]\r\n  }\r\n\r\n  const routes = [{\r\n    path: '/',\r\n    component: () => import('@/views/layout/index'),\r\n    redirect: '/index',\r\n    children: []\r\n  }]\r\n\r\n  menus.forEach(item => {\r\n    if (item.menuType === 1) { // 只处理菜单类型\r\n      const route = {\r\n        path: item.routeUrl,\r\n        name: item.menuName,\r\n        component: loadView(item.componentUrl),\r\n        meta: {\r\n          title: item.menuName,\r\n          icon: item.icon\r\n        }\r\n      }\r\n\r\n      item.target === 1 \r\n        ? routes[0].children.push(route)\r\n        : routes.push(route)\r\n    }\r\n  })\r\n\r\n  routes.push({ path: '*', redirect: '/404' })\r\n  return routes\r\n}\r\n\r\nfunction loadView(viewPath) {\r\n  if (!viewPath) {\r\n    console.error('🚫 空组件路径，返回404页面')\r\n    return () => import('@/views/error/404')\r\n  }\r\n\r\n  // 统一路径格式\r\n  const normalizedPath = viewPath.startsWith('/') ? viewPath : `/${viewPath}`\r\n  const fullPath = `@/views${normalizedPath}`\r\n\r\n  if (process.env.NODE_ENV === 'development') {\r\n    return (resolve) => {\r\n      require([fullPath], resolve, (err) => {\r\n        console.error(`加载组件失败: ${fullPath}`, err)\r\n        resolve(require('@/views/error/404').default)\r\n      })\r\n    }\r\n  } else {\r\n    return () => import(/* webpackChunkName: \"view-[request]\" */ fullPath)\r\n      .catch(err => {\r\n        console.error(`加载组件失败: ${fullPath}`, err)\r\n        return import('@/views/error/404')\r\n      })\r\n  }\r\n}\r\n\r\nfunction setDefaultActiveMenu(commit, menus) {\r\n  const findFirstValid = (menuList) => {\r\n    for (const item of menuList) {\r\n      if (item.menuType === 1) return item\r\n      if (item.children?.length) {\r\n        const found = findFirstValid(item.children)\r\n        if (found) return found\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  const defaultMenu = findFirstValid(menus) || { \r\n    routeUrl: '/index', \r\n    menuName: '首页' \r\n  }\r\n\r\n  console.log('⭐ 设置默认菜单:', defaultMenu)\r\n  commit(\"setActiveMenu\", defaultMenu.routeUrl)\r\n  commit(\"addActiveMenu\", {\r\n    name: defaultMenu.menuName,\r\n    url: defaultMenu.routeUrl\r\n  })\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}