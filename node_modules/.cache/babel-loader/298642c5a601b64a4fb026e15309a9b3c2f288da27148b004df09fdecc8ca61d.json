{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { getApeQuestionPage, removeApeQuestion } from '../../../api/api';\nimport update from '../../../components/system/question/updateQuestion';\nexport default {\n  components: {\n    update\n  },\n  data() {\n    return {\n      user: {},\n      loading: true,\n      update: [],\n      remove: [],\n      updateId: '',\n      updateVisible: false,\n      search: {\n        userName: '',\n        content: '',\n        answer: '',\n        taskName: '',\n        teacherId: '',\n        pageNumber: 1,\n        pageSize: 10\n      },\n      total: 0,\n      tableData: []\n    };\n  },\n  methods: {\n    searchPage() {\n      this.search.pageNumber = 1;\n      this.query();\n    },\n    query() {\n      this.search.teacherId = this.user.id;\n      getApeQuestionPage(this.search).then(res => {\n        if (res.code === 1000) {\n          this.tableData = res.data.records;\n          this.total = res.data.total;\n          this.loading = false;\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    },\n    refresh() {\n      this.search.userName = '';\n      this.search.content = '';\n      this.search.answer = '';\n      this.search.taskName = '';\n      this.query();\n    },\n    handleCurrentChange(val) {\n      this.search.pageNumber = val;\n      this.query();\n    },\n    handleSizeChange(val) {\n      this.search.pageSize = val;\n      this.query();\n    },\n    handleSelectionChange(val) {\n      this.update = [];\n      this.remove = [];\n      val.forEach(item => {\n        this.update.push(item.id);\n        this.remove.push(item.id);\n      });\n    },\n    updateFalse() {\n      this.updateId = '';\n      this.updateVisible = false;\n      this.query();\n    },\n    updateData(id) {\n      this.updateId = id;\n      this.updateVisible = true;\n    },\n    deleteDataBtn() {\n      this.$confirm(`确定删除选中的 ${this.remove.length} 条数据?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteDate(this.remove.join(','));\n      }).catch(() => {});\n    },\n    deleteDate(ids) {\n      removeApeQuestion({\n        ids\n      }).then(res => {\n        if (res.code === 1000) {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n          this.query();\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    }\n  },\n  mounted() {\n    this.user = JSON.parse(window.localStorage.getItem('user'));\n    this.query();\n  },\n  // 表格样式\n  computed: {\n    tableHeaderStyle() {\n      return {\n        color: '#4A2B90',\n        'background-color': '#ECE9F4',\n        'font-weight': '600',\n        'border-bottom': '2px solid #7B68EE'\n      };\n    },\n    tableRowStyle() {\n      return {\n        color: '#222',\n        'font-size': '14px',\n        'border-bottom': '1px solid #ECE9F4',\n        'white-space': 'nowrap'\n      };\n    }\n  }\n};","map":{"version":3,"names":["getApeQuestionPage","removeApeQuestion","update","components","data","user","loading","remove","updateId","updateVisible","search","userName","content","answer","taskName","teacherId","pageNumber","pageSize","total","tableData","methods","searchPage","query","id","then","res","code","records","$notify","error","title","message","refresh","handleCurrentChange","val","handleSizeChange","handleSelectionChange","forEach","item","push","updateFalse","updateData","deleteDataBtn","$confirm","length","confirmButtonText","cancelButtonText","type","deleteDate","join","catch","ids","$message","mounted","JSON","parse","window","localStorage","getItem","computed","tableHeaderStyle","color","tableRowStyle"],"sources":["src/views/system/question/question.vue"],"sourcesContent":["<template>\r\n  <div class=\"question-management\">\r\n    <div class=\"search-table\">\r\n      <div class=\"search\">\r\n        <el-row :gutter=\"15\" style=\"padding:12px 15px\">\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\" class=\"search-col\">\r\n            <span class=\"search-title\">\r\n              <i class=\"el-icon-user\"></i> 用户昵称:\r\n            </span>\r\n            <el-input\r\n              size=\"small\"\r\n              placeholder=\"请输入用户昵称\"\r\n              v-model=\"search.userName\"\r\n              clearable\r\n              prefix-icon=\"el-icon-user\"\r\n              class=\"input-custom\"\r\n            />\r\n          </el-col>\r\n\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\" class=\"search-col\">\r\n            <span class=\"search-title\">\r\n              <i class=\"el-icon-question\"></i> 提问内容:\r\n            </span>\r\n            <el-input\r\n              size=\"small\"\r\n              placeholder=\"请输入提问内容\"\r\n              v-model=\"search.content\"\r\n              clearable\r\n              prefix-icon=\"el-icon-edit-outline\"\r\n              class=\"input-custom\"\r\n            />\r\n          </el-col>\r\n\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\" class=\"search-col\">\r\n            <span class=\"search-title\">\r\n              <i class=\"el-icon-chat-line-square\"></i> 回复:\r\n            </span>\r\n            <el-input\r\n              size=\"small\"\r\n              placeholder=\"请输入回复\"\r\n              v-model=\"search.answer\"\r\n              clearable\r\n              prefix-icon=\"el-icon-chat-dot-round\"\r\n              class=\"input-custom\"\r\n            />\r\n          </el-col>\r\n\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\" class=\"search-col\">\r\n            <span class=\"search-title\">\r\n              <i class=\"el-icon-reading\"></i> 课程名称:\r\n            </span>\r\n            <el-input\r\n              size=\"small\"\r\n              placeholder=\"请输入课程名称\"\r\n              v-model=\"search.taskName\"\r\n              clearable\r\n              prefix-icon=\"el-icon-notebook-2\"\r\n              class=\"input-custom\"\r\n            />\r\n          </el-col>\r\n\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\" class=\"btn-col\">\r\n            <el-button\r\n              size=\"small\"\r\n              icon=\"el-icon-search\"\r\n              type=\"primary\"\r\n              class=\"btn-search\"\r\n              @click=\"searchPage\"\r\n            >\r\n              查询\r\n            </el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              icon=\"el-icon-refresh\"\r\n              class=\"btn-reset\"\r\n              @click=\"refresh\"\r\n            >\r\n              重置\r\n            </el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <div class=\"table\">\r\n        <el-row style=\"padding:10px 15px 0 15px;\">\r\n          <el-button\r\n            type=\"danger\"\r\n            size=\"small\"\r\n            icon=\"el-icon-delete\"\r\n            plain\r\n            :disabled=\"update.length <= 0\"\r\n            @click=\"deleteDataBtn\"\r\n          >\r\n            删除\r\n          </el-button>\r\n        </el-row>\r\n\r\n        <el-table\r\n          v-loading=\"loading\"\r\n          :data=\"tableData\"\r\n          stripe\r\n          @selection-change=\"handleSelectionChange\"\r\n          :header-cell-style=\"tableHeaderStyle\"\r\n          :row-style=\"tableRowStyle\"\r\n          class=\"custom-table\"\r\n        >\r\n          <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\r\n          <el-table-column prop=\"userName\" label=\"用户昵称\" />\r\n          <el-table-column prop=\"content\" label=\"提问内容\" />\r\n          <el-table-column prop=\"answer\" label=\"回复\" />\r\n          <el-table-column prop=\"taskName\" label=\"课程名称\" />\r\n          <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n            <template #default=\"{ row }\">\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"success\"\r\n                icon=\"el-icon-edit\"\r\n                @click=\"updateData(row.id)\"\r\n              >\r\n                回复\r\n              </el-button>\r\n              <el-popconfirm\r\n                title=\"确认删除此条数据？\"\r\n                confirm-button-text=\"确认\"\r\n                cancel-button-text=\"取消\"\r\n                icon=\"el-icon-warning\"\r\n                icon-color=\"#5B49A2\"\r\n                @confirm=\"deleteDate(row.id)\"\r\n              >\r\n                <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                  slot=\"reference\"\r\n                  style=\"margin-left: 8px\"\r\n                >\r\n                  删除\r\n                </el-button>\r\n              </el-popconfirm>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <el-pagination\r\n          background\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"search.pageSize\"\r\n          :current-page=\"search.pageNumber\"\r\n          :total=\"total\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          class=\"custom-pagination\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <update\r\n      @updateFalse=\"updateFalse\"\r\n      :updateId=\"updateId\"\r\n      :updateVisible=\"updateVisible\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getApeQuestionPage, removeApeQuestion } from '../../../api/api'\r\nimport update from '../../../components/system/question/updateQuestion'\r\n\r\nexport default {\r\n  components: { update },\r\n  data() {\r\n    return {\r\n      user: {},\r\n      loading: true,\r\n      update: [],\r\n      remove: [],\r\n      updateId: '',\r\n      updateVisible: false,\r\n      search: {\r\n        userName: '',\r\n        content: '',\r\n        answer: '',\r\n        taskName: '',\r\n        teacherId: '',\r\n        pageNumber: 1,\r\n        pageSize: 10\r\n      },\r\n      total: 0,\r\n      tableData: []\r\n    }\r\n  },\r\n  methods: {\r\n    searchPage() {\r\n      this.search.pageNumber = 1\r\n      this.query()\r\n    },\r\n    query() {\r\n      this.search.teacherId = this.user.id\r\n      getApeQuestionPage(this.search).then((res) => {\r\n        if (res.code === 1000) {\r\n          this.tableData = res.data.records\r\n          this.total = res.data.total\r\n          this.loading = false\r\n        } else {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: res.message\r\n          })\r\n        }\r\n      })\r\n    },\r\n    refresh() {\r\n      this.search.userName = ''\r\n      this.search.content = ''\r\n      this.search.answer = ''\r\n      this.search.taskName = ''\r\n      this.query()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.search.pageNumber = val\r\n      this.query()\r\n    },\r\n    handleSizeChange(val) {\r\n      this.search.pageSize = val\r\n      this.query()\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.update = []\r\n      this.remove = []\r\n      val.forEach((item) => {\r\n        this.update.push(item.id)\r\n        this.remove.push(item.id)\r\n      })\r\n    },\r\n    updateFalse() {\r\n      this.updateId = ''\r\n      this.updateVisible = false\r\n      this.query()\r\n    },\r\n    updateData(id) {\r\n      this.updateId = id\r\n      this.updateVisible = true\r\n    },\r\n    deleteDataBtn() {\r\n      this.$confirm(\r\n        `确定删除选中的 ${this.remove.length} 条数据?`,\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      )\r\n        .then(() => {\r\n          this.deleteDate(this.remove.join(','))\r\n        })\r\n        .catch(() => {})\r\n    },\r\n    deleteDate(ids) {\r\n      removeApeQuestion({ ids }).then((res) => {\r\n        if (res.code === 1000) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          })\r\n          this.query()\r\n        } else {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: res.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.user = JSON.parse(window.localStorage.getItem('user'))\r\n    this.query()\r\n  },\r\n  // 表格样式\r\n  computed: {\r\n    tableHeaderStyle() {\r\n      return {\r\n        color: '#4A2B90',\r\n        'background-color': '#ECE9F4',\r\n        'font-weight': '600',\r\n        'border-bottom': '2px solid #7B68EE'\r\n      }\r\n    },\r\n    tableRowStyle() {\r\n      return {\r\n        color: '#222',\r\n        'font-size': '14px',\r\n        'border-bottom': '1px solid #ECE9F4',\r\n        'white-space': 'nowrap'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.question-management {\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 12px rgb(75 50 130 / 0.15);\r\n  font-family: '黑体', Arial, sans-serif;\r\n  color: #222;\r\n}\r\n\r\n/* 搜索区 */\r\n.search-table {\r\n  background: #f9f9ff;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 8px rgb(123 104 238 / 0.15);\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.search {\r\n  padding: 10px 15px;\r\n}\r\n\r\n.search-col {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.search-title {\r\n  width: 80px;\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: #4A2B90;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin-right: 12px;\r\n}\r\n\r\n.search-title i {\r\n  margin-right: 6px;\r\n  color: #7B68EE;\r\n}\r\n\r\n.input-custom >>> .el-input__inner {\r\n  border-radius: 20px;\r\n  border: 1px solid #7B68EE;\r\n  background-color: #F4F3FF;\r\n  color: #3B2C7A;\r\n  padding-left: 32px;\r\n  transition: border-color 0.3s ease;\r\n}\r\n\r\n.input-custom >>> .el-input__inner:focus,\r\n.input-custom >>> .el-input__inner:hover {\r\n  border-color: #5A42A6;\r\n  box-shadow: 0 0 6px #7B68EE;\r\n}\r\n\r\n.input-custom >>> .el-input__prefix {\r\n  left: 10px;\r\n  color: #7B68EE;\r\n}\r\n\r\n.btn-col {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.btn-search {\r\n  background: linear-gradient(135deg, #5B49A2, #7B68EE);\r\n  border-radius: 20px;\r\n  color: white;\r\n  padding: 6px 18px;\r\n  border: none;\r\n  font-weight: 600;\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.btn-search:hover {\r\n  background: linear-gradient(135deg, #4A3A8E, #5B49A2);\r\n}\r\n\r\n.btn-reset {\r\n  border-radius: 20px;\r\n  color: #7B68EE;\r\n  border: 1px solid #7B68EE;\r\n  padding: 6px 18px;\r\n  font-weight: 600;\r\n  background: transparent;\r\n  transition: background-color 0.3s ease, color 0.3s ease;\r\n}\r\n\r\n.btn-reset:hover {\r\n  background-color: #7B68EE;\r\n  color: #fff;\r\n}\r\n\r\n/* 表格区 */\r\n.table {\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 10px rgb(123 104 238 / 0.1);\r\n  padding: 10px 15px 20px;\r\n}\r\n\r\n.custom-table >>> .el-table__header {\r\n  background-color: #ECE9F4 !important;\r\n  color: #4A2B90 !important;\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.custom-table >>> tr:hover > td {\r\n  background-color: #f0ecff !important;\r\n}\r\n\r\n.custom-table {\r\n  border-radius: 10px;\r\n  border: 1px solid #7B68EE;\r\n}\r\n\r\n.custom-pagination {\r\n  margin-top: 15px;\r\n  text-align: right;\r\n}\r\n\r\n.custom-pagination >>> .el-pager li.active {\r\n  background-color: #7B68EE !important;\r\n  color: white !important;\r\n  border-radius: 50% !important;\r\n}\r\n\r\n/* 操作按钮 */\r\n.el-button--success,\r\n.el-button--danger {\r\n  font-weight: 600;\r\n}\r\n\r\n.el-button--success:hover {\r\n  background-color: #4caf50 !important;\r\n}\r\n\r\n.el-button--danger:hover {\r\n  background-color: #e55353 !important;\r\n}\r\n</style>\r\n"],"mappings":";;;AAsKA,SAAAA,kBAAA,EAAAC,iBAAA;AACA,OAAAC,MAAA;AAEA;EACAC,UAAA;IAAAD;EAAA;EACAE,KAAA;IACA;MACAC,IAAA;MACAC,OAAA;MACAJ,MAAA;MACAK,MAAA;MACAC,QAAA;MACAC,aAAA;MACAC,MAAA;QACAC,QAAA;QACAC,OAAA;QACAC,MAAA;QACAC,QAAA;QACAC,SAAA;QACAC,UAAA;QACAC,QAAA;MACA;MACAC,KAAA;MACAC,SAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,KAAAX,MAAA,CAAAM,UAAA;MACA,KAAAM,KAAA;IACA;IACAA,MAAA;MACA,KAAAZ,MAAA,CAAAK,SAAA,QAAAV,IAAA,CAAAkB,EAAA;MACAvB,kBAAA,MAAAU,MAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAP,SAAA,GAAAM,GAAA,CAAArB,IAAA,CAAAuB,OAAA;UACA,KAAAT,KAAA,GAAAO,GAAA,CAAArB,IAAA,CAAAc,KAAA;UACA,KAAAZ,OAAA;QACA;UACA,KAAAsB,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAC,OAAA,EAAAN,GAAA,CAAAM;UACA;QACA;MACA;IACA;IACAC,QAAA;MACA,KAAAtB,MAAA,CAAAC,QAAA;MACA,KAAAD,MAAA,CAAAE,OAAA;MACA,KAAAF,MAAA,CAAAG,MAAA;MACA,KAAAH,MAAA,CAAAI,QAAA;MACA,KAAAQ,KAAA;IACA;IACAW,oBAAAC,GAAA;MACA,KAAAxB,MAAA,CAAAM,UAAA,GAAAkB,GAAA;MACA,KAAAZ,KAAA;IACA;IACAa,iBAAAD,GAAA;MACA,KAAAxB,MAAA,CAAAO,QAAA,GAAAiB,GAAA;MACA,KAAAZ,KAAA;IACA;IACAc,sBAAAF,GAAA;MACA,KAAAhC,MAAA;MACA,KAAAK,MAAA;MACA2B,GAAA,CAAAG,OAAA,CAAAC,IAAA;QACA,KAAApC,MAAA,CAAAqC,IAAA,CAAAD,IAAA,CAAAf,EAAA;QACA,KAAAhB,MAAA,CAAAgC,IAAA,CAAAD,IAAA,CAAAf,EAAA;MACA;IACA;IACAiB,YAAA;MACA,KAAAhC,QAAA;MACA,KAAAC,aAAA;MACA,KAAAa,KAAA;IACA;IACAmB,WAAAlB,EAAA;MACA,KAAAf,QAAA,GAAAe,EAAA;MACA,KAAAd,aAAA;IACA;IACAiC,cAAA;MACA,KAAAC,QAAA,CACA,gBAAApC,MAAA,CAAAqC,MAAA,SACA,MACA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,CACA,EACAvB,IAAA;QACA,KAAAwB,UAAA,MAAAzC,MAAA,CAAA0C,IAAA;MACA,GACAC,KAAA;IACA;IACAF,WAAAG,GAAA;MACAlD,iBAAA;QAAAkD;MAAA,GAAA3B,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAA0B,QAAA;YACAL,IAAA;YACAhB,OAAA;UACA;UACA,KAAAT,KAAA;QACA;UACA,KAAAM,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAC,OAAA,EAAAN,GAAA,CAAAM;UACA;QACA;MACA;IACA;EACA;EACAsB,QAAA;IACA,KAAAhD,IAAA,GAAAiD,IAAA,CAAAC,KAAA,CAAAC,MAAA,CAAAC,YAAA,CAAAC,OAAA;IACA,KAAApC,KAAA;EACA;EACA;EACAqC,QAAA;IACAC,iBAAA;MACA;QACAC,KAAA;QACA;QACA;QACA;MACA;IACA;IACAC,cAAA;MACA;QACAD,KAAA;QACA;QACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}