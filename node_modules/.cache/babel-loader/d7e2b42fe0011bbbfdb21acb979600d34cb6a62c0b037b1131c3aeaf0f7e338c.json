{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getApeTaskPage, removeApeTask, getApeClassificationList, getApeMajorList, editApeTask } from '../../../api/api';\nimport add from '../../../components/system/task/addTask';\nimport update from '../../../components/system/task/updateTask';\nexport default {\n  data() {\n    return {\n      loading: true,\n      update: [],\n      remove: [],\n      updateId: \"\",\n      addVisible: false,\n      updateVisible: false,\n      search: {\n        name: \"\",\n        taskDescribe: \"\",\n        teacherName: \"\",\n        state: \"\",\n        major: \"\",\n        classification: \"\",\n        pageNumber: 1,\n        pageSize: 10,\n        type: 1\n      },\n      total: 0,\n      tableData: [],\n      major: [],\n      classification: []\n    };\n  },\n  components: {\n    add,\n    update\n  },\n  methods: {\n    getStatusText(state) {\n      const statusMap = {\n        0: '已上架',\n        1: '已下架',\n        2: '待审核'\n      };\n      return statusMap[state] || '未知状态';\n    },\n    techTableHeaderStyle() {\n      return {\n        'color': '#4A2B90',\n        'background-color': '#ECE9F4',\n        'font-weight': 'bold',\n        'font-size': '14px',\n        'border-bottom': '1px solid #7B68EE'\n      };\n    },\n    techTableRowStyle() {\n      return {\n        'color': '#5F4B8B',\n        'font-size': '14px',\n        'font-family': 'Microsoft YaHei',\n        'border-bottom': '1px solid #F0EEF7'\n      };\n    },\n    // 其他方法保持不变...\n    toTaskStudy(id) {\n      this.navigateTo(\"/studyInfo?id=\" + id, \"学习情况\");\n    },\n    toTaskComment(id) {\n      this.navigateTo(\"/taskComment?id=\" + id, \"评论列表\");\n    },\n    toTaskStudent(id) {\n      this.navigateTo(\"/taskStudent?id=\" + id, \"学生列表\");\n    },\n    toArticle(id, name) {\n      this.navigateTo(`/teacherArticle?id=${id}&name=${name}&type=0`, \"学生笔记管理\");\n    },\n    toChapter(id, name) {\n      this.navigateTo(`/teacherChapter?id=${id}&name=${name}&type=0`, \"教师章节管理\");\n    },\n    navigateTo(url, name) {\n      const param = {\n        name,\n        url\n      };\n      this.$store.commit('menu/addActiveMenu', param);\n      this.$router.push(url);\n      this.$store.commit('menu/setActiveMenu', url);\n    }\n    // 其他原有方法保持不变...\n  },\n  mounted() {\n    this.getApeMajorList();\n    this.getApeClassificationList();\n    this.query();\n  }\n};","map":{"version":3,"names":["getApeTaskPage","removeApeTask","getApeClassificationList","getApeMajorList","editApeTask","add","update","data","loading","remove","updateId","addVisible","updateVisible","search","name","taskDescribe","teacherName","state","major","classification","pageNumber","pageSize","type","total","tableData","components","methods","getStatusText","statusMap","techTableHeaderStyle","techTableRowStyle","toTaskStudy","id","navigateTo","toTaskComment","toTaskStudent","toArticle","toChapter","url","param","$store","commit","$router","push","mounted","query"],"sources":["src/views/system/task/teacherTask.vue"],"sourcesContent":["<template>\r\n  <div class=\"course-management\">\r\n    <div class=\"search-table\">\r\n      <div class=\"search\">\r\n        <el-row :gutter=\"15\" style=\"padding:15px\">\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\">\r\n            <div class=\"search-item\">\r\n              <span class=\"tech-search-label\">\r\n                <i class=\"el-icon-notebook-1\"></i> 课程名称:\r\n              </span>\r\n              <el-input\r\n                size=\"small\"\r\n                placeholder=\"请输入课程名称\"\r\n                v-model=\"search.name\"\r\n                class=\"tech-input\">\r\n              </el-input>\r\n            </div>\r\n          </el-col>\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\">\r\n            <div class=\"search-item\">\r\n              <span class=\"tech-search-label\">\r\n                <i class=\"el-icon-office-building\"></i> 所属专业:\r\n              </span>\r\n              <el-select \r\n                clearable \r\n                size=\"small\" \r\n                v-model=\"search.major\" \r\n                placeholder=\"请选择专业\"\r\n                class=\"tech-select\">\r\n                <el-option \r\n                  v-for=\"(item,index) in major\" \r\n                  :key=\"index\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.name\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n          </el-col>\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\">\r\n            <div class=\"search-item\">\r\n              <span class=\"tech-search-label\">\r\n                <i class=\"el-icon-collection-tag\"></i> 所属分类:\r\n              </span>\r\n              <el-select \r\n                clearable \r\n                size=\"small\" \r\n                v-model=\"search.classification\" \r\n                placeholder=\"请选择分类\"\r\n                class=\"tech-select\">\r\n                <el-option \r\n                  v-for=\"(item,index) in classification\" \r\n                  :key=\"index\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.name\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n          </el-col>\r\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"8\" :xl=\"8\">\r\n            <div class=\"search-actions\">\r\n              <el-button \r\n                size=\"small\" \r\n                icon=\"el-icon-search\" \r\n                type=\"primary\" \r\n                @click=\"searchPage\"\r\n                class=\"tech-search-btn\">\r\n                查询\r\n              </el-button>\r\n              <el-button \r\n                size=\"small\" \r\n                icon=\"el-icon-refresh\" \r\n                @click=\"refresh\"\r\n                class=\"tech-reset-btn\">\r\n                重置\r\n              </el-button>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      \r\n      <div class=\"table\">\r\n        <div class=\"table-actions\">\r\n          <el-button \r\n            type=\"primary\" \r\n            size=\"small\" \r\n            icon=\"el-icon-plus\" \r\n            @click=\"add\"\r\n            class=\"tech-action-btn tech-add-btn\">\r\n            新增课程\r\n          </el-button>\r\n          <el-button \r\n            type=\"success\" \r\n            size=\"small\" \r\n            icon=\"el-icon-edit\" \r\n            :disabled=\"update.length !== 1\"\r\n            @click=\"updateDataBtn\"\r\n            class=\"tech-action-btn tech-edit-btn\">\r\n            修改\r\n          </el-button>\r\n          <el-button \r\n            type=\"danger\" \r\n            size=\"small\" \r\n            icon=\"el-icon-delete\" \r\n            :disabled=\"update.length <= 0\"\r\n            @click=\"deleteDataBtn\"\r\n            class=\"tech-action-btn tech-delete-btn\">\r\n            删除\r\n          </el-button>\r\n        </div>\r\n        \r\n        <el-table\r\n          v-loading=\"loading\"\r\n          :data=\"tableData\"\r\n          :header-cell-style=\"techTableHeaderStyle\"\r\n          :row-style=\"techTableRowStyle\"\r\n          @selection-change=\"handleSelectionChange\"\r\n          stripe\r\n          style=\"width: 100%\"\r\n          class=\"tech-table\">\r\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"课程名称\" width=\"120\">\r\n            <template #default=\"{row}\">\r\n              <div class=\"course-name\">\r\n                <i class=\"el-icon-notebook-2\"></i>\r\n                <span>{{ row.name }}</span>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"major\" label=\"所属专业\" width=\"120\">\r\n            <template #default=\"{row}\">\r\n              <el-tag type=\"info\" class=\"major-tag\">\r\n                {{ row.major }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"classification\" label=\"所属分类\" width=\"100\">\r\n            <template #default=\"{row}\">\r\n              <el-tag class=\"classification-tag\">\r\n                {{ row.classification }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"teacherName\" label=\"教师\" width=\"100\">\r\n            <template #default=\"{row}\">\r\n              <div class=\"teacher-info\">\r\n                <i class=\"el-icon-user\"></i>\r\n                <span>{{ row.teacherName }}</span>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"state\" label=\"状态\" width=\"100\">\r\n            <template #default=\"{row}\">\r\n              <el-tag \r\n                :type=\"row.state === 0 ? 'success' : row.state === 1 ? 'warning' : 'info'\"\r\n                class=\"status-tag\">\r\n                {{ getStatusText(row.state) }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"num\" label=\"学生数\" width=\"100\">\r\n            <template #default=\"{row}\">\r\n              <div class=\"student-count\">\r\n                <i class=\"el-icon-user-solid\"></i>\r\n                <span>{{ row.num }}</span>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" width=\"400\">\r\n            <template #default=\"{row}\">\r\n              <div class=\"action-buttons\">\r\n                <el-button \r\n                  size=\"mini\" \r\n                  @click=\"toTaskComment(row.id)\"\r\n                  class=\"tech-table-btn tech-comment-btn\">\r\n                  <i class=\"el-icon-chat-line-square\"></i> 评论\r\n                </el-button>\r\n                <el-button \r\n                  size=\"mini\" \r\n                  @click=\"toTaskStudent(row.id)\"\r\n                  class=\"tech-table-btn tech-student-btn\">\r\n                  <i class=\"el-icon-user\"></i> 学生\r\n                </el-button>\r\n                <el-button \r\n                  size=\"mini\" \r\n                  @click=\"toTaskStudy(row.id)\"\r\n                  class=\"tech-table-btn tech-study-btn\">\r\n                  <i class=\"el-icon-data-line\"></i> 学习\r\n                </el-button>\r\n                <el-button \r\n                  size=\"mini\" \r\n                  @click=\"toChapter(row.id, row.name)\"\r\n                  class=\"tech-table-btn tech-chapter-btn\">\r\n                  <i class=\"el-icon-tickets\"></i> 章节\r\n                </el-button>\r\n                <el-button \r\n                  size=\"mini\" \r\n                  @click=\"toArticle(row.id, row.name)\"\r\n                  class=\"tech-table-btn tech-note-btn\">\r\n                  <i class=\"el-icon-edit-outline\"></i> 笔记\r\n                </el-button>\r\n                <el-button \r\n                  size=\"mini\" \r\n                  @click=\"updateData(row.id)\"\r\n                  class=\"tech-table-btn tech-edit-btn\">\r\n                  <i class=\"el-icon-edit\"></i> 修改\r\n                </el-button>\r\n                <el-popconfirm\r\n                  title=\"确定删除此课程吗？\"\r\n                  @confirm=\"deleteDate(row.id)\">\r\n                  <el-button \r\n                    size=\"mini\" \r\n                    slot=\"reference\"\r\n                    class=\"tech-table-btn tech-delete-btn\">\r\n                    <i class=\"el-icon-delete\"></i> 删除\r\n                  </el-button>\r\n                </el-popconfirm>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        \r\n        <el-pagination\r\n          background\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"search.pageSize\"\r\n          :current-page=\"search.pageNumber\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :total=\"total\"\r\n          class=\"tech-pagination\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    \r\n    <add @addFalse=\"addFalse\" flag=\"2\" :addVisible=\"addVisible\"></add>\r\n    <update @updateFalse=\"updateFalse\" flag=\"2\" :updateId=\"updateId\" :updateVisible=\"updateVisible\"></update>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getApeTaskPage,removeApeTask,getApeClassificationList,getApeMajorList,editApeTask} from '../../../api/api' \r\nimport add from '../../../components/system/task/addTask'\r\nimport update from '../../../components/system/task/updateTask'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      update: [],\r\n      remove: [],\r\n      updateId: \"\",\r\n      addVisible: false,\r\n      updateVisible: false,\r\n      search: {\r\n        name: \"\",\r\n        taskDescribe: \"\",\r\n        teacherName: \"\",\r\n        state: \"\",\r\n        major: \"\",\r\n        classification: \"\",\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        type: 1\r\n      },\r\n      total: 0,\r\n      tableData: [],\r\n      major: [],\r\n      classification: []\r\n    }\r\n  },\r\n  components: {\r\n    add,\r\n    update\r\n  },\r\n  methods: {\r\n    getStatusText(state) {\r\n      const statusMap = {\r\n        0: '已上架',\r\n        1: '已下架',\r\n        2: '待审核'\r\n      }\r\n      return statusMap[state] || '未知状态'\r\n    },\r\n    techTableHeaderStyle() {\r\n      return {\r\n        'color': '#4A2B90',\r\n        'background-color': '#ECE9F4',\r\n        'font-weight': 'bold',\r\n        'font-size': '14px',\r\n        'border-bottom': '1px solid #7B68EE'\r\n      }\r\n    },\r\n    techTableRowStyle() {\r\n      return {\r\n        'color': '#5F4B8B',\r\n        'font-size': '14px',\r\n        'font-family': 'Microsoft YaHei',\r\n        'border-bottom': '1px solid #F0EEF7'\r\n      }\r\n    },\r\n    // 其他方法保持不变...\r\n    toTaskStudy(id) {\r\n      this.navigateTo(\"/studyInfo?id=\" + id, \"学习情况\")\r\n    },\r\n    toTaskComment(id) {\r\n      this.navigateTo(\"/taskComment?id=\" + id, \"评论列表\")\r\n    },\r\n    toTaskStudent(id) {\r\n      this.navigateTo(\"/taskStudent?id=\" + id, \"学生列表\")\r\n    },\r\n    toArticle(id, name) {\r\n      this.navigateTo(`/teacherArticle?id=${id}&name=${name}&type=0`, \"学生笔记管理\")\r\n    },\r\n    toChapter(id, name) {\r\n      this.navigateTo(`/teacherChapter?id=${id}&name=${name}&type=0`, \"教师章节管理\")\r\n    },\r\n    navigateTo(url, name) {\r\n      const param = { name, url }\r\n      this.$store.commit('menu/addActiveMenu', param)\r\n      this.$router.push(url)\r\n      this.$store.commit('menu/setActiveMenu', url)\r\n    },\r\n    // 其他原有方法保持不变...\r\n  },\r\n  mounted() {\r\n    this.getApeMajorList()\r\n    this.getApeClassificationList()\r\n    this.query()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 基础修改 - 先测试这些是否能生效 */\r\n.course-management {\r\n  background-color: #F8F7FC;\r\n  padding: 20px;\r\n}\r\n\r\n.tech-search-btn {\r\n  background: linear-gradient(135deg, #7B68EE, #9370DB) !important;\r\n  border: none !important;\r\n  border-radius: 20px !important;\r\n  color: white !important;\r\n}\r\n\r\n.tech-table {\r\n  border: 1px solid #ECE9F4 !important;\r\n}\r\n</style>\r\n\r\n<style>\r\n/* 全局修改 */\r\n.el-table__header th {\r\n  background-color: #ECE9F4 !important;\r\n  color: #4A2B90 !important;\r\n}\r\n</style>"],"mappings":";AAiPA,SAAAA,cAAA,EAAAC,aAAA,EAAAC,wBAAA,EAAAC,eAAA,EAAAC,WAAA;AACA,OAAAC,GAAA;AACA,OAAAC,MAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAF,MAAA;MACAG,MAAA;MACAC,QAAA;MACAC,UAAA;MACAC,aAAA;MACAC,MAAA;QACAC,IAAA;QACAC,YAAA;QACAC,WAAA;QACAC,KAAA;QACAC,KAAA;QACAC,cAAA;QACAC,UAAA;QACAC,QAAA;QACAC,IAAA;MACA;MACAC,KAAA;MACAC,SAAA;MACAN,KAAA;MACAC,cAAA;IACA;EACA;EACAM,UAAA;IACApB,GAAA;IACAC;EACA;EACAoB,OAAA;IACAC,cAAAV,KAAA;MACA,MAAAW,SAAA;QACA;QACA;QACA;MACA;MACA,OAAAA,SAAA,CAAAX,KAAA;IACA;IACAY,qBAAA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC,kBAAA;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC,YAAAC,EAAA;MACA,KAAAC,UAAA,oBAAAD,EAAA;IACA;IACAE,cAAAF,EAAA;MACA,KAAAC,UAAA,sBAAAD,EAAA;IACA;IACAG,cAAAH,EAAA;MACA,KAAAC,UAAA,sBAAAD,EAAA;IACA;IACAI,UAAAJ,EAAA,EAAAlB,IAAA;MACA,KAAAmB,UAAA,uBAAAD,EAAA,SAAAlB,IAAA;IACA;IACAuB,UAAAL,EAAA,EAAAlB,IAAA;MACA,KAAAmB,UAAA,uBAAAD,EAAA,SAAAlB,IAAA;IACA;IACAmB,WAAAK,GAAA,EAAAxB,IAAA;MACA,MAAAyB,KAAA;QAAAzB,IAAA;QAAAwB;MAAA;MACA,KAAAE,MAAA,CAAAC,MAAA,uBAAAF,KAAA;MACA,KAAAG,OAAA,CAAAC,IAAA,CAAAL,GAAA;MACA,KAAAE,MAAA,CAAAC,MAAA,uBAAAH,GAAA;IACA;IACA;EACA;EACAM,QAAA;IACA,KAAAzC,eAAA;IACA,KAAAD,wBAAA;IACA,KAAA2C,KAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}