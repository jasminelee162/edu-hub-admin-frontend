{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"asside\",\n  data() {\n    return {\n      isCollapse: false,\n      textColor: \"#A4B7CC\"\n    };\n  },\n  computed: {\n    ...mapState({\n      activeMenuArrary: state => state.menu.activeMenuArrary,\n      displayMenus: state => state.menu.displayMenus,\n      activeMenu: state => state.menu.activeMenu\n    }),\n    activeMenuKey() {\n      // 统一默认激活项，格式同菜单项index: routeUrl@menuName\n      // 尝试从activeMenuArrary找到对应菜单名拼index\n      const activeItem = this.activeMenuArrary.find(item => item.url === this.activeMenu);\n      if (activeItem) {\n        return `${activeItem.url}@${activeItem.name}`;\n      }\n      // 兜底用当前路由path@name\n      return this.$route.path + \"@\" + this.$route.name;\n    }\n  },\n  methods: {\n    handleSelect(key) {\n      const [path, name] = key.split(\"@\");\n      this.$router.push({\n        path\n      });\n      this.$store.commit(\"menu/setActiveMenu\", path);\n\n      // 防止重复添加\n      const exists = this.activeMenuArrary.some(item => item.url === path);\n      if (!exists) {\n        this.$store.commit(\"menu/addActiveMenu\", {\n          name,\n          url: path\n        });\n      }\n    }\n  },\n  mounted() {\n    this.$bus.$on(\"collapse\", res => {\n      this.isCollapse = res;\n    });\n    this.$store.commit(\"menu/setActiveMenu\", this.$route.path);\n    const exists = this.activeMenuArrary.some(item => item.url === this.$route.path);\n    if (!exists) {\n      this.$store.commit(\"menu/addActiveMenu\", {\n        name: this.$route.name,\n        url: this.$route.path\n      });\n    }\n  }\n};","map":{"version":3,"names":["mapState","name","data","isCollapse","textColor","computed","activeMenuArrary","state","menu","displayMenus","activeMenu","activeMenuKey","activeItem","find","item","url","$route","path","methods","handleSelect","key","split","$router","push","$store","commit","exists","some","mounted","$bus","$on","res"],"sources":["src/components/layout/aside.vue"],"sourcesContent":["<template>\r\n  <el-aside\r\n    :width=\"isCollapse ? '72px' : '240px'\"\r\n    style=\"background-color: #0F1220; border-right: 1px solid #252A3A\"\r\n  >\r\n    <div\r\n      class=\"back-icon\"\r\n      :style=\"{\r\n        width: isCollapse ? '71px' : '239px',\r\n        background: 'linear-gradient(90deg, #0F1220 0%, #1A1C3A 100%)',\r\n        borderBottom: '1px solid rgba(124, 77, 255, 0.1)'\r\n      }\"\r\n    >\r\n      <div class=\"logo-plain\">\r\n        <img\r\n          src=\"@/assets/image/systemlogo.png\"\r\n          :style=\"{\r\n            width: isCollapse ? '36px' : '180px',\r\n            height: 'auto',\r\n            transition: 'all 0.3s ease',\r\n            maxHeight: '50px'\r\n          }\"\r\n          alt=\"系统Logo\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <el-menu\r\n      @select=\"handleSelect\"\r\n      :collapse=\"isCollapse\"\r\n      :collapse-transition=\"false\"\r\n      class=\"el-menu-vertical\"\r\n      :unique-opened=\"true\"\r\n      background-color=\"#0F1220\"\r\n      :text-color=\"textColor\"\r\n      :default-active=\"activeMenuKey\"\r\n      active-text-color=\"#ffffff\"\r\n    >\r\n      <span v-for=\"(item, index) in displayMenus\" :key=\"item.id || index\">\r\n        <!-- 直接菜单项 -->\r\n        <el-menu-item\r\n          v-if=\"item.menuType === 1\"\r\n          :index=\"item.routeUrl + '@' + item.menuName\"\r\n        >\r\n          <i :class=\"item.icon\" style=\"color: #5C6BC0;\"></i>\r\n          <span slot=\"title\">{{ item.menuName }}</span>\r\n        </el-menu-item>\r\n\r\n        <!-- 目录菜单 -->\r\n        <el-submenu v-else-if=\"item.menuType === 0\" :index=\"String(index)\">\r\n          <template #title>\r\n            <i :class=\"item.icon\" style=\"color: #5C6BC0;\"></i>\r\n            <span v-if=\"!isCollapse\">{{ item.menuName }}</span>\r\n          </template>\r\n\r\n          <span v-for=\"(child, cIndex) in item.child\" :key=\"child.id || cIndex\">\r\n            <el-submenu\r\n              v-if=\"child.menuType === 0\"\r\n              :index=\"index + '-' + cIndex\"\r\n            >\r\n              <template #title>\r\n                <i :class=\"child.icon\" style=\"color: #7986CB;\"></i>\r\n                <span>{{ child.menuName }}</span>\r\n              </template>\r\n\r\n              <el-menu-item\r\n                v-for=\"(grandchild, gIndex) in child.child\"\r\n                v-if=\"grandchild.menuType === 1\"\r\n                :key=\"grandchild.id || gIndex\"\r\n                :index=\"grandchild.routeUrl + '@' + grandchild.menuName\"\r\n              >\r\n                <i :class=\"grandchild.icon\" style=\"color: #9FA8DA;\"></i>\r\n                <span slot=\"title\">{{ grandchild.menuName }}</span>\r\n              </el-menu-item>\r\n            </el-submenu>\r\n\r\n            <el-menu-item\r\n              v-else-if=\"child.menuType === 1\"\r\n              :index=\"child.routeUrl + '@' + child.menuName\"\r\n            >\r\n              <i :class=\"child.icon\" style=\"color: #9FA8DA;\"></i>\r\n              <span slot=\"title\">{{ child.menuName }}</span>\r\n            </el-menu-item>\r\n          </span>\r\n        </el-submenu>\r\n      </span>\r\n    </el-menu>\r\n  </el-aside>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"asside\",\r\n  data() {\r\n    return {\r\n      isCollapse: false,\r\n      textColor: \"#A4B7CC\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      activeMenuArrary: (state) => state.menu.activeMenuArrary,\r\n      displayMenus: (state) => state.menu.displayMenus,\r\n      activeMenu: (state) => state.menu.activeMenu,\r\n    }),\r\n    activeMenuKey() {\r\n      // 统一默认激活项，格式同菜单项index: routeUrl@menuName\r\n      // 尝试从activeMenuArrary找到对应菜单名拼index\r\n      const activeItem = this.activeMenuArrary.find(\r\n        (item) => item.url === this.activeMenu\r\n      );\r\n      if (activeItem) {\r\n        return `${activeItem.url}@${activeItem.name}`;\r\n      }\r\n      // 兜底用当前路由path@name\r\n      return this.$route.path + \"@\" + this.$route.name;\r\n    },\r\n  },\r\n  methods: {\r\n    handleSelect(key) {\r\n      const [path, name] = key.split(\"@\");\r\n      this.$router.push({ path });\r\n      this.$store.commit(\"menu/setActiveMenu\", path);\r\n\r\n      // 防止重复添加\r\n      const exists = this.activeMenuArrary.some((item) => item.url === path);\r\n      if (!exists) {\r\n        this.$store.commit(\"menu/addActiveMenu\", { name, url: path });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"collapse\", (res) => {\r\n      this.isCollapse = res;\r\n    });\r\n\r\n    this.$store.commit(\"menu/setActiveMenu\", this.$route.path);\r\n\r\n    const exists = this.activeMenuArrary.some(\r\n      (item) => item.url === this.$route.path\r\n    );\r\n    if (!exists) {\r\n      this.$store.commit(\"menu/addActiveMenu\", {\r\n        name: this.$route.name,\r\n        url: this.$route.path,\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.logo-plain {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0 16px;\r\n\r\n  img {\r\n    object-fit: contain;\r\n    display: block;\r\n  }\r\n}\r\n\r\n.back-icon {\r\n  display: flex;\r\n  height: 80px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: all 0.3s;\r\n  border-bottom: 1px solid rgba(124, 77, 255, 0.1);\r\n\r\n  .logo-text {\r\n    transition: all 0.3s;\r\n\r\n    span {\r\n      transition: all 0.3s;\r\n\r\n      &:hover {\r\n        background: rgba(124, 77, 255, 0.3) !important;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.el-menu {\r\n  background: transparent !important;\r\n  border-right: none !important;\r\n\r\n  &:not(.el-menu--collapse) {\r\n    width: 240px;\r\n  }\r\n\r\n  /* 菜单项基础样式 */\r\n  &:deep(.el-menu-item),\r\n  &:deep(.el-submenu__title) {\r\n    color: #c5cae9;\r\n    height: 48px !important;\r\n    line-height: 48px !important;\r\n    margin: 4px 12px;\r\n    border-radius: 6px;\r\n    font-size: 14px;\r\n    transition: all 0.2s;\r\n\r\n    i {\r\n      font-size: 18px;\r\n      margin-right: 10px;\r\n    }\r\n\r\n    /* 悬停效果 */\r\n    &:hover {\r\n      background: rgba(94, 53, 177, 0.2) !important;\r\n      color: #e1e1ff;\r\n\r\n      i {\r\n        color: #b388ff;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* 激活状态 - 保留原来的白色高亮条 */\r\n  &:deep(.el-menu-item.is-active) {\r\n    background: linear-gradient(90deg, rgba(124, 77, 255, 0.15), transparent) !important;\r\n    color: #ffffff !important;\r\n    font-weight: 500;\r\n    position: relative;\r\n\r\n    i {\r\n      color: #7c4dff !important;\r\n    }\r\n\r\n    &::after {\r\n      content: \"\";\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 3px;\r\n      background: linear-gradient(to bottom, #7e57c2, #5c6bc0);\r\n    }\r\n\r\n    &::before {\r\n      content: \"\";\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      height: 100%;\r\n      width: 3px;\r\n      background: #ffffff;\r\n      border-radius: 0 3px 3px 0;\r\n    }\r\n  }\r\n\r\n  /* 子菜单样式 */\r\n  &:deep(.el-submenu) {\r\n    .el-submenu__title {\r\n      color: #c5cae9;\r\n    }\r\n\r\n    .el-menu {\r\n      background: rgba(15, 18, 32, 0.8) !important;\r\n\r\n      .el-menu-item {\r\n        padding-left: 54px !important;\r\n        color: #a4b7cc;\r\n\r\n        i {\r\n          color: #7986cb;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 折叠状态下的微调 */\r\n.el-menu--collapse {\r\n  .el-submenu {\r\n    & > .el-submenu__title {\r\n      padding-left: 20px !important;\r\n\r\n      .el-submenu__icon-arrow {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.xiaoshi {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"],"mappings":";;;;AA0FA,SAAAA,QAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAL,QAAA;MACAM,gBAAA,EAAAC,KAAA,IAAAA,KAAA,CAAAC,IAAA,CAAAF,gBAAA;MACAG,YAAA,EAAAF,KAAA,IAAAA,KAAA,CAAAC,IAAA,CAAAC,YAAA;MACAC,UAAA,EAAAH,KAAA,IAAAA,KAAA,CAAAC,IAAA,CAAAE;IACA;IACAC,cAAA;MACA;MACA;MACA,MAAAC,UAAA,QAAAN,gBAAA,CAAAO,IAAA,CACAC,IAAA,IAAAA,IAAA,CAAAC,GAAA,UAAAL,UACA;MACA,IAAAE,UAAA;QACA,UAAAA,UAAA,CAAAG,GAAA,IAAAH,UAAA,CAAAX,IAAA;MACA;MACA;MACA,YAAAe,MAAA,CAAAC,IAAA,cAAAD,MAAA,CAAAf,IAAA;IACA;EACA;EACAiB,OAAA;IACAC,aAAAC,GAAA;MACA,OAAAH,IAAA,EAAAhB,IAAA,IAAAmB,GAAA,CAAAC,KAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAN;MAAA;MACA,KAAAO,MAAA,CAAAC,MAAA,uBAAAR,IAAA;;MAEA;MACA,MAAAS,MAAA,QAAApB,gBAAA,CAAAqB,IAAA,CAAAb,IAAA,IAAAA,IAAA,CAAAC,GAAA,KAAAE,IAAA;MACA,KAAAS,MAAA;QACA,KAAAF,MAAA,CAAAC,MAAA;UAAAxB,IAAA;UAAAc,GAAA,EAAAE;QAAA;MACA;IACA;EACA;EACAW,QAAA;IACA,KAAAC,IAAA,CAAAC,GAAA,aAAAC,GAAA;MACA,KAAA5B,UAAA,GAAA4B,GAAA;IACA;IAEA,KAAAP,MAAA,CAAAC,MAAA,4BAAAT,MAAA,CAAAC,IAAA;IAEA,MAAAS,MAAA,QAAApB,gBAAA,CAAAqB,IAAA,CACAb,IAAA,IAAAA,IAAA,CAAAC,GAAA,UAAAC,MAAA,CAAAC,IACA;IACA,KAAAS,MAAA;MACA,KAAAF,MAAA,CAAAC,MAAA;QACAxB,IAAA,OAAAe,MAAA,CAAAf,IAAA;QACAc,GAAA,OAAAC,MAAA,CAAAC;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}